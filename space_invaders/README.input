                  Name Lists and Cards for the WanT input files

==============================================================================
    
              ********* codes: DISENTANGLE.x WANNIER.x  **********
    
==============================================================================

INPUT file layout
-----------------------------------

&CONTROL
  ...
/

&SUBSPACE
  ...
/

&LOCALIZATION
  ...
/

WANNIER_CENTERS ( crystal | angstrom | bohr )
gauss_typ1    x1  y1  z1    [l1  m1  ndir1]    [ xx1  yy1  zz1 ]    rloc1
    ....
gauss_typN    xN  yN  zN    [lN  mN  ndirN]    [ xxN  yyN  zzN ]    rlocN

-----------------------------------

==============================================================================

NAMELIST &CONTROL

prefix        STRING
              the first part of the name of all the file written by the code
              DEFAULT: mandatory

postfix       STRING
              the tail of the names of the above mentioned files (useful e.g. to
              distinguish among different calculations having a common part).
              DEFAULT: ""

work_dir      STRING
              the scratch directory where the massive data file will be written
              DEFAULT: "./"

title         STRING
              the title of the calculation
              DEFAULT: "Wannier Transport Calculation"

restart_mode  STRING
              ( "from_scratch" | "restart" )
              define whether to restart a previous calculation; at the moment the "restart"
              choice implies to overwrite the input variables OVERLAPS, PROJECTIONS, 
              START_MODE_DIS and START_MODE_WAN , withthe value "from_file" (see below 
              for thier meanings). 
              DEFAULT: "from_scratch"

verbosity     STRING
              ( "low" | "medium" | "high" )
              the level of detail of the code output
              DEFAULT: "medium"

overlaps      STRING
              ( "from_scratch" | "from_file" )
              determine how to get overlap integrals:
              "from_scratch":  overlaps are calculated from wfcs.
              "from_file":     overlaps are read from a previous data file.
              In this second case dimensions should be consistent.
              DEFAULT: "from_scratch"

projections   STRING
              ( "from_scratch" | "from_file" )
              determine how to get projection integrals.
              Meanings as before.
              DEFAULT: "from_scratch"

assume_ncpp   LOGICAL
              if .TRUE. avoids the reading of pseudopotential files
              assuming that the DFT calculation has been performed within norm-conserving
              pseudopotentials (no knowledge of them is required in the WanT calc)
              DEFAULT: .FALSE.

unitary_thr   REAL
              threshold for the check of matrix unitariery
              DEFAULT: 1.0d-8



==============================================================================

NAMELIST &SUBSPACE

dimwann       INTEGER
              the number of wannier functions, i.e. the dimension of the wannier subspace
              DEFAULT : mandatory
 
win_min       REAL
              the lower limit [eV] of the energy window containing the states
              forming the starting subspace for Wannier functions
              DEFAULT : 0.0

win_max       REAL
              the upper limit [eV] of the above described energy window
              DEFAULT : 0.0
              
froz_min      REAL
              the lower limit [eV] of the energy window containing 'frozen' states
              which will not enter the calculation of WFs
              DEFAULT : -2.0000000  
              
froz_max      REAL
              upper limit [eV] of the frozen window above described
              DEFAULT : -1.0000000

alpha_dis     REAL
              mixing parameter for the disentangle iterative procedure 
              DEFAULT : 0.5

maxiter_dis   INTEGER
              maximum number of iterations during the disentangle procedure
              DEFAULT : 1000

nprint_dis    INTEGER
              every nprint_dis iterations in disentangle minimization write to stdout
              DEFAULT: 10

nsave_dis     INTEGER
              every nsave_dis iterations save subspace data to disk
              DEFAULT: 10

disentangle_thr    REAL
              threshold for convergence of the iterative disentangle procedure
              DEFAULT: 1.0d-8

start_mode_dis     STRING
              ( "randomized", "lower_states", "upper_states",  &
                "center_projections", "from_file" )
              Determine how the trial subspace is chosen
              "randomized"   : random starting point is chosen
              "lower_states" : the lower DIMWANN bands from DFT calculation are
                 used to define the subspace
              "upper_states" : the upper DIMWANN bands from DFT calculation are
                 used to define the subspace
              "center_projections" : a subspace is extracted from the DFT bands
                 by means of a projections on the given WANNIER_TRIAL_CENTERS
                 (see the section WANNIER_CENTERS)
              "from_file" : subspace initialization is read from an existing data file;
                 this is the choice used during restart.
              DEFAULT : "center_projections"

spin_component    STRING
              ( "up" | "down" | "none" )
              define whether the calculation is spin polarized and if the case 
              which spin component is to be treated
              DEFAULT: "none"
 

==============================================================================

NAMELIST &LOCALIZATION

wannier_thr   REAL
              threshold for convergence of the iterative wannier minimization
              DEFAULT: 1.0d-6           
 
alpha0_wan    REAL
              mixing parameter during the first CG part of the wannier minimization
              DEFAULT: 0.5

alpha1_wan    REAL
              mixing parameter during the second part of the wannier minimization
              DEFAULT: 0.5

maxiter0_wan  INTEGER
              maximum number of iterations for the first minim part
              DEFAULT: 500

maxiter1_wan  INTEGER
              maximum number of iterations for the second minim part
              DEFAULT: 500

nprint_wan    INTEGER
              every nprint_dis iterations in wannier minimization write to stdout
              DEFAULT: 10

nsave_wan     INTEGER
              every nsave_dis iterations save subspace data to disk
              DEFAULT: 10

ncg           INTEGER
              each ncg iterations in the second minimization part, do a CG minimization
              DEFAULT : 3

nshells       INTEGER
              number of different nearest-neighbour k-point shells used in the calc
              DEFAULT : mandatory

nwhich(ish)   INTEGER
              the indexes of the chosen shells
              DEFAULT: mandatory (ish =1, nshells)

start_mode_wan     STRING
              ( "no_guess", "randomized", "center_projections", "from_file" )
              Determine how the wannier localization is started
              "no_guess" : disentangle states are used as starting point
                 without any further localization guess.
              "randomized" : a random rotation is applied to the states found by
                 the disentangle procedure.
              "center_projections" : a subspace is extracted from the DFT bands
                 by means of a projections on the given WANNIER_TRIAL_CENTERS
                 (see the section WANNIER_CENTERS).
              "from_file" : subspace initialization is read from an existing data file;
                 this is the choice used during restart.
              DEFAULT : "center_projections"
           
ordering_mode STRING
              ( "none" | "spatial" | "spread" | "complete" ) 
              specifies whether to order the computed Wannier functions and
              which ordering criterion adopt. 
              "none":      no ordering is performed
              "spatial":   ordering based on WF center positions
              "spread":    ordering based on WF increasing spreads
              "complete":  SPATIAL + SPREAD for WF with the same centers
              DEFAULT: "none"
              

==============================================================================

CARD WANNIER_CENTERS

Contains DIMWANN lines giving the trial centers for the WFs. 
Depending on the first flag in the line (GAUSS_TYP) which could be 1 or 2, 
the format is different:

IF ( gauss_typ == "1gauss" ) THEN
   gauss_typ      x  y  z      l  m  ndir     rloc  
ENDIF

IF ( gauss_typ == "2gauss" ) THEN
   gauss_typ      x  y  z      xx  yy  zz     rloc  
ENDIF

In the case GAUSS_TYP == "1gauss", 
   x,y,z    REAL
            are the crystal components (i.e. r = x * a1 + y * a2 + z * a3 , 
            where a_i are the direct lattice basis vectors) of the position 
            of the trial WFs; 

   l, m     INTEGER
            are the angular momentum quantum numbers for the spherical harmonics
            giving the angular part of the trial WF. l can be set equal to 0, 1, or 2, 
            (and m values are then as usual) for standard spherical harmonics or l == -1
            indicate the sp^3 geometry. Here spherical harmonics are the real ones:
            l == -1:   m = -4 -->   1, 1,-1 dir  
                       m = -3 -->   1,-1, 1 dir 
                       m = -2 -->  -1, 1, 1 dir 
                       m = -1 -->  -1,-1,-1 dir 
                       m =  1 -->   1, 1, 1 dir 
                       m =  2 -->   1,-1,-1 dir
                       m =  3 -->  -1, 1,-1 dir
                       m =  4 -->  -1,-1, 1 dir
            l == 0 :   m =  0 -->  no problem
            l == 1 :   m = -1 -->  x 
                       m =  0 -->  z 
                       m =  1 -->  y 
            l == 2 :   m = -2 -->  x^2 - y^2
                       m = -1 -->  xz
                       m =  0 -->  3z^2 - r^2
                       m =  1 -->  yz
                       m =  2 -->  xy 
          
   ndir     INTEGER
            specifies which is the z direction for the spherical harmonics.
            the possible values are 1, 2 or 3 (suggested value 3)
   

   rloc     REAL
            specifies the spread [Bohr] of the gaussian used for the radial part of the 
            trial WF


In the case GAUSS_TYP == "2gauss", 
   x,y,z    REAL
            as before for GAUSS_TYP == "1gauss"
     
 xx,yy,zz   REAL
            as before for x,y,z for the units, specify the center of a second gaussian 
            used to build up the trial WF. This second case could be useful to describe
            anti-bonding WF.

  rloc      REAL
            as before for GAUSS_TYP == "1gauss"
          
==============================================================================



==============================================================================

                  ********* code: HAMILTONIAN.x  **********

==============================================================================

INPUT file layout
-----------------------------------

&INPUT
   ...
/

kpt_label1
  kx  ky  kz
...
kpt_labelN
  kx  ky  kz

-----------------------------------

==============================================================================

NAMELIST &INPUT

prefix        STRING
              the first part of the name of all the file written by the code
              should be equal to the value given in the main calculations.
              DEFAULT: mandatory

postfix       STRING
              the tail of the names of the above mentioned files (useful e.g. to
              distinguish among different calculations having a common part).
              should be equal to the value given in the main calculations.
              DEFAULT: ""

work_dir      STRING
              the scratch directory where the massive data file will be written
              DEFAULT: "./"

verbosity     STRING
              ( "low" | "medium" | "high" )
              the level of detail of the code output
              DEFAULT: "medium"

nkpts_in      INTEGER
              number of edge kpts defining the directions on which bands will
              be calculated
              DEFAULT: mandatory

nkpts_max     INTEGER
              maximum number of interpolated kpoints
              DEFAULT: 100

unitary_thr   REAL
              threshold for the check of matrix unitariery
              DEFAULT: 1.0d-6


==============================================================================

After the INPUT namelist for each of the NSPTS kpts two lines with the following
format must be provided:

 kpt_label
   kx  ky  kz

   kpt_label     CHARACTER(*)
                 it is a string with the name of the kpoint

   kx,ky,kz      REAL
                 component of the kpt vector in units of crystal reciprocal 
                 lattice vector (i.e. k = kx * b1 + ky * b2 + kz * b3)

==============================================================================



==============================================================================

                  ********* code: PLOT.x  **********

==============================================================================

The input file is so simple an consists in a unique line with the following
format:

iwann    ixs  ixe     iys  iye     izs  ize


   iwann        INTEGER
                index of the wannier function to be plotted

   ixs ixe      INTEGER
                index of the starting and ending point of the x-mesh on which 
                the psi**2 will be plotted

   iys iye      INTEGER
                as before but for y direction

   izs ize      INTEGER
                as before but for y direction

==============================================================================




==============================================================================

                  ********* code: BULK.x  **********

==============================================================================

INPUT file layout
-----------------------------------

&INPUT_BULK
   ...
/

-----------------------------------

==============================================================================

NAMELIST &INPUT_BULK

nmx         INTEGER
            number of sites for the TB hamiltonian of the bulk. Using WFs this value
            should be set equal to DIMWANN (or almost < DIMWANN if some basis functions
            have been eliminated)
            DEFAULT : 0

norb        INTEGER
            number of orbital per site. Fro the use with Wannier functions should be
            set to 1
            DEFAULT : 1

ne          INTEGER
            dimension of the energy grid for transmittance and spectral function
            calculation
            DEFAULT : 1000

nterx       INTEGER
            maximum number of iterations in the calculation of transfer matrices
            DEFAULT : 200

gamma0      REAL
            used in the generation of the tight binding hamiltonian  (MODEL == 1)
            this value has no effect on the calculation using WFs and it is left
            for completeness.
            DEFAULT : 0.0
             
emin        REAL
            lower limit [eV] of the energy grid dimensioned by NE
            DEFAULT : -10.0

emax        REAL
            upper limit [eV] of the energy grid dimensioned by NE
            DEFAULT :  10.0

efieldx     REAL
            x component [eV] of an external bias field
            DEFAULT : 0.0 

efieldy     REAL
            y component [eV] of an external bias field
            DEFAULT : 0.0 

efieldz     REAL
            z component [eV] of an external bias field
            DEFAULT : 0.0 

model       INTEGER
            can assume values from 1 to 4 and defines how to make up the tight binding
            hamiltonian. Values 1 to 3 are related to old external parameterizations
            for specific cases and should no longer be used. MODEL = 4 read the
            parameters of the real space hamiltonian from file and it is the case
            when using Wannier functions as basis set.  
            DEFAULT : 4

==============================================================================




==============================================================================

                  ********* code: CONDUCTOR.x  **********

==============================================================================

INPUT file layout
-----------------------------------

&INPUT_CONDUCTOR
   ...
/

-----------------------------------

==============================================================================

NAMELIST &INPUT_CONDUCTOR

nmxa        INTEGER
            number of sites in the lead A
            DEFAULT : 0
            
nmxb        INTEGER
            number of sites in the lead B
            DEFAULT : 0

nmxc        INTEGER
            number of sites in the conductor C
            DEFAULT : 0

norb        INTEGER
            number of orbital per site. Fro the use with Wannier functions should be
            set to 1
            DEFAULT : 1

ne          INTEGER
            dimension of the energy grid for transmittance and spectral function
            calculation
            DEFAULT : 1000

nterx       INTEGER
            maximum number of iterations in the calculation of transfer matrices
            DEFAULT : 200

emin        REAL
            lower limit [eV] of the energy grid dimensioned by NE
            DEFAULT : -10.0

emax        REAL
            upper limit [eV] of the energy grid dimensioned by NE
            DEFAULT : +10.0

l_overlap   LOGICAL
            If .TRUE. reads the overlap matrices from file, otherwise basis orthonormality
            is assumed (which is by definition the case of Wannier functions)
            DEFAULT : .FALSE.

bias        REAL
            bias voltage [eV] across the conductor region.
            DEFAULT : 0.0

==============================================================================




